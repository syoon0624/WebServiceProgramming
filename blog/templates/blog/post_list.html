{% extends 'blog/base.html' %}
{% block content %}
<div class="col-md-11">
    <a href="{% url 'post_new' %}" style="position: fixed; bottom: 7%; right: 4%;"><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-plus-circle-fill"
        viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
    </svg></a>
    {% for post in posts %}
    <div class="card" style="margin-bottom: 20px; box-shadow: 1px 3px 3px 1px rgba(0, 0, 0, 0.4);">
        <h4 class="card-header" style="padding: 15px; background-color: #e7f5ff;">{{ post.title}}</h5>
        <div class="card-body">
            <h6 class="card-title" style="color: #868e96;">작성일: {{ post.published_date }}</h5>
            <span class="card-text" style="display:inline-block; max-width:400px; max-height: 100px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">{{ post.text|linebreaksbr }}</span>
            <br>
            <a href="{% url 'post_detail' pk=post.pk %}">댓글: {{ post.approved_comments.count }}</a>
            <div style="text-align: right;">
                <a href="{% url 'post_detail' pk=post.pk%}" class="btn btn-primary">자세히 보기</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}